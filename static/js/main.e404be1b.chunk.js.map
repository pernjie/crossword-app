{"version":3,"sources":["Landing.js","icon.png","back.png","crossword_src/context.js","crossword_src/Cell.js","crossword_src/Clue.js","crossword_src/DirectionClues.js","crossword_src/util.js","crossword_src/Crossword.js","crossword_src/index.js","crossword_data.js","Puzzle.js","App.js","index.js"],"names":["App","className","src","alt","to","CrosswordContext","React","createContext","focused","selectedDirection","selectedNumber","CrosswordSizeContext","cellSize","cellPadding","cellInner","cellHalf","fontSize","Cell","cellData","onClick","focus","highlight","useContext","ThemeContext","cellBackground","cellBorder","textColor","numberColor","focusBackground","highlightBackground","handleClick","useCallback","event","preventDefault","row","col","guess","number","x","y","style","cursor","width","height","fill","stroke","strokeWidth","textAnchor","dominantBaseline","defaultProps","ClueWrapper","styled","div","attrs","props","correct","Clue","direction","children","onClueSelected","aria-label","DirectionClues","clues","toUpperCase","map","clue","undefined","directionInfo","across","primary","orthogonal","down","bothDirections","Object","keys","isAcross","otherDirection","calculateExtents","data","dir","primaryMax","orthogonalMax","entries","forEach","info","answer","length","emptyCellData","used","locked","fillClues","gridData","rowStart","colStart","i","push","sort","byNumber","createGridData","acrossMax","downMax","size","Math","max","values","Array","r","c","createEmptyGrid","a","b","Number","parseInt","loadGuesses","storageKey","localStorage","window","saveRaw","getItem","guesses","key","val","split","deserializeGuesses","JSON","parse","defaultTheme","columnBreakpoint","gridBackground","OuterWrapper","theme","GridWrapper","CluesWrapper","Crossword","forwardRef","ref","onCorrect","onLoadedCorrect","onCrosswordCorrect","onCellChange","useStorage","puzzleName","useState","setSize","setGridData","setClues","setFocused","focusedRow","setFocusedRow","focusedCol","setFocusedCol","currentDirection","setCurrentDirection","currentNumber","setCurrentNumber","bulkChange","setBulkChange","checkQueue","setCheckQueue","crosswordCorrect","setCrosswordCorrect","inputRef","useRef","contextTheme","getCellData","outOfBounds","setCellCharacter","char","cell","produce","draft","notifyCorrect","checkCorrectness","find","useEffect","every","clueInfo","current","moveTo","directionOverride","candidate","moveRelative","dRow","dCol","moveForward","moveBackward","handleSingleCharacter","handleInputKeyDown","ctrlKey","altKey","metaKey","other","handleInputChange","target","value","substring","loadedCorrect","correctAnswers","num","findCorrectAnswers","reduce","memo","memoInner","serializeGuesses","saveData","date","Date","now","setItem","stringify","saveGuesses","handleCellClick","handleInputClick","handleClueSelected","useImperativeHandle","reset","rowData","removeItem","fillAllAnswers","isCrosswordCorrect","context","finalTheme","cells","Provider","margin","padding","position","viewBox","type","onKeyDown","onChange","autoComplete","spellCheck","autoCorrect","top","left","textAlign","backgroundColor","caretColor","border","displayName","1","5","10","14","15","16","17","18","19","20","22","24","25","26","29","33","34","35","36","37","39","40","41","42","43","45","46","47","48","51","55","56","58","59","60","61","62","63","64","2","3","4","6","7","8","9","11","12","13","21","23","27","28","30","31","32","38","44","49","50","52","53","54","57","65","66","67","68","Puzzle","id","match","params","logo","exact","path","component","Landing","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e404be1b.chunk.js","sourcesContent":["import logo from './icon.png';\nimport './App.css';\nimport { Link } from 'react-router-dom';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          <Link to={`puzzle/1`} className=\"App-link\">Puzzle 1: Singapore Pools</Link><br/>\n          <Link to={`puzzle/2`} className=\"App-link\">Puzzle 2: Transmutation</Link>\n        </p>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAyZJREFUeJzt3UFqFFEYRtE/4lxIZ+oKHLkmt+U63IFztyGYJuAC4iCTEPQa2mdXqnPOsAuKj8Cli+rAmwEAAABehKu49mFm3p9rCGzs68z8fPphBfJ5Zj79tznwsnycmW9PP3yzwRDYDYFAEAgEgUAQCASBQBAIBIFAEAgEgUB4u+g+9zNzXHSvFQ5xzdbT1daLtCqQ48zcLLrXCvdxzdbT1daL5BELgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCCsOoLtMPs5nstWns03CASBQBAIBIFAEAgEgUBY9Zp3T+5n5rj1iEcOcc3W09XWZ3uNgRxn5mbrEY/U7xy2nm7J70cesSAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEwms8gu0wi47nOgNbN+YbBIJAIAgEgkAgCASCQCC8xte8/D+3Ww945Hpmrv71JqsCuZ2Zm0X3WqHex+9p6968pL/r3cy8+9ebeMSCIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAirjmC7nocjr/ZgT1v35pKOk5uZdYFczYLz4M5kT1vZmEcsCAKBIBAIAoEgEAir3mLdz8xx0b1WuJ6Ht1W/s6etMzO35xryDH/benFWBXKcmZtF91rhbv78KndPW2f2tfXieMSCIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAgCgSAQCAKBIBAIAoEgEAirjmA7zMPZf3uwp60z+9p6cXyDQBAIBIFAEAgEgUAQCASBQBAIBIFAEAiE+leTLzPz41xDYGPftx4AAAAAAKf5BZdWPQDXagBWAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/back.80f03fd6.png\";","import React from 'react';\n\n// To pass focus/highlight/etc., it's cleaner to use a context.\nexport const CrosswordContext = React.createContext({\n  focused: false,\n  selectedDirection: null,\n  selectedNumber: null,\n\n  // correct answers?\n});\n\nexport const CrosswordSizeContext = React.createContext({\n  cellSize: 0,\n  cellPadding: 0,\n  cellInner: 0,\n  cellHalf: 0,\n  fontSize: 0,\n});\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeContext } from 'styled-components';\n\nimport { CrosswordSizeContext } from './context';\n\n// expected props: row, col, answer, crossword, cellSize\n\n/**\n * An individual-letter answer cell within the crossword grid.\n *\n * A `Cell` lives inside the SVG for a [`Crossword`](#crossword), and renders at\n * a location determined by the `row`, `col`, and `cellSize` properties from\n * `cellData` and `renderContext`.\n */\nexport default function Cell({ cellData, onClick, focus, highlight }) {\n  const { cellSize, cellPadding, cellInner, cellHalf, fontSize } = useContext(\n    CrosswordSizeContext\n  );\n  const {\n    // gridBackground,\n    cellBackground,\n    cellBorder,\n    textColor,\n    numberColor,\n    focusBackground,\n    highlightBackground,\n  } = useContext(ThemeContext);\n\n  const handleClick = useCallback(\n    (event) => {\n      event.preventDefault();\n      if (onClick) {\n        onClick(cellData);\n      }\n    },\n    [cellData, onClick]\n  );\n\n  const { row, col, guess, number } = cellData;\n\n  const x = col * cellSize;\n  const y = row * cellSize;\n\n  return (\n    <g\n      onClick={handleClick}\n      style={{ cursor: 'default', fontSize: `${fontSize}px` }}\n    >\n      <rect\n        x={x + cellPadding}\n        y={y + cellPadding}\n        width={cellInner}\n        height={cellInner}\n        fill={\n          focus\n            ? focusBackground\n            : highlight\n            ? highlightBackground\n            : cellBackground\n        }\n        stroke={cellBorder}\n        strokeWidth={cellSize / 50}\n      />\n      {number && (\n        <text\n          x={x + cellPadding * 4}\n          y={y + cellPadding * 4}\n          textAnchor=\"start\"\n          dominantBaseline=\"hanging\"\n          style={{ fontSize: '50%', fill: numberColor }}\n        >\n          {number}\n        </text>\n      )}\n      <text\n        x={x + cellHalf}\n        y={y + cellHalf + 1} // +1 for visual alignment?\n        textAnchor=\"middle\"\n        dominantBaseline=\"middle\"\n        style={{ fill: textColor }}\n      >\n        {guess}\n      </text>\n    </g>\n  );\n}\n\nCell.propTypes = {\n  /** the data specific to this cell */\n  cellData: PropTypes.shape({\n    row: PropTypes.number.isRequired,\n    col: PropTypes.number.isRequired,\n    guess: PropTypes.string.isRequired,\n    number: PropTypes.string,\n  }).isRequired,\n\n  /** whether this cell has focus */\n  focus: PropTypes.bool,\n\n  /** whether this cell is highlighted */\n  highlight: PropTypes.bool,\n\n  /** handler called when the cell is clicked */\n  onClick: PropTypes.func,\n};\n\nCell.defaultProps = {\n  focus: false,\n  highlight: false,\n  onClick: null,\n};\n\n// export default Cell;\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled, { ThemeContext } from 'styled-components';\n\nimport { CrosswordContext } from './context';\n\nconst ClueWrapper = styled.div.attrs((props) => ({\n  className: `clue${props.correct ? ' correct' : ''}`,\n}))`\n  cursor: default;\n  background-color: ${(props) =>\n    props.highlight ? props.highlightBackground : 'transparent'};\n  color: ${(props) =>\n    props.highlight ? 'black' : 'white'};\n`;\n\nexport default function Clue({\n  direction,\n  number,\n  children,\n  correct,\n  ...props\n}) {\n  const { highlightBackground } = useContext(ThemeContext);\n  const {\n    focused,\n    selectedDirection,\n    selectedNumber,\n    onClueSelected,\n  } = useContext(CrosswordContext);\n\n  const handleClick = useCallback(\n    (event) => {\n      event.preventDefault();\n      if (onClueSelected) {\n        onClueSelected(direction, number);\n      }\n    },\n    [direction, number, onClueSelected]\n  );\n\n  return (\n    <ClueWrapper\n      highlightBackground={highlightBackground}\n      highlight={\n        focused && direction === selectedDirection && number === selectedNumber\n      }\n      correct={correct}\n      {...props}\n      onClick={handleClick}\n      aria-label={`clue-${number}-${direction}`}\n    >\n      {number}: {children}\n    </ClueWrapper>\n  );\n}\n\nClue.propTypes = {\n  /** direction of the clue: \"across\" or \"down\"; passed back in onClick */\n  direction: PropTypes.string.isRequired,\n  /** number of the clue (the label shown); passed back in onClick */\n  number: PropTypes.string.isRequired,\n  /** clue text */\n  children: PropTypes.node,\n  /** whether the answer/guess is correct */\n  correct: PropTypes.bool,\n};\n\nClue.defaultProps = {\n  children: undefined,\n  correct: undefined,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// import styled from 'styled-components';\n\nimport Clue from './Clue';\n\nexport default function DirectionClues({ direction, clues }) {\n  return (\n    <div className=\"direction\">\n      {/* use something other than h3? */}\n      <h3 className=\"header\">{direction.toUpperCase()}</h3>\n      {clues.map(({ number, clue, correct }) => (\n        <Clue\n          key={number}\n          direction={direction}\n          number={number}\n          correct={correct}\n        >\n          {clue}\n        </Clue>\n      ))}\n    </div>\n  );\n}\n\nDirectionClues.propTypes = {\n  /** direction of this list of clues (\"across\" or \"down\") */\n  direction: PropTypes.string.isRequired,\n  /** clues for this List's direction */\n  clues: PropTypes.arrayOf(\n    PropTypes.shape({\n      /** number of the clue (the label shown) */\n      number: PropTypes.string.isRequired,\n      /** clue text */\n      clue: PropTypes.node.isRequired,\n      /** whether the answer/guess is correct */\n      correct: PropTypes.bool,\n    })\n  ).isRequired,\n};\n\nDirectionClues.defaultProps = {};\n","const directionInfo = {\n  across: {\n    primary: 'col',\n    orthogonal: 'row',\n  },\n  down: {\n    primary: 'row',\n    orthogonal: 'col',\n  },\n};\n\nexport const bothDirections = Object.keys(directionInfo);\n\nexport function isAcross(direction) {\n  return direction === 'across';\n}\n\nexport function otherDirection(direction) {\n  return isAcross(direction) ? 'down' : 'across';\n}\n\nexport function calculateExtents(data, direction) {\n  const dir = directionInfo[direction];\n  let primaryMax = 0;\n  let orthogonalMax = 0;\n\n  Object.entries(data[direction]).forEach(([i, info]) => {\n    const primary = info[dir.primary] + info.answer.length - 1;\n    if (primary > primaryMax) {\n      primaryMax = primary;\n    }\n\n    const orthogonal = info[dir.orthogonal];\n    if (orthogonal > orthogonalMax) {\n      orthogonalMax = orthogonal;\n    }\n  });\n\n  return {\n    [dir.primary]: primaryMax,\n    [dir.orthogonal]: orthogonalMax,\n  };\n}\n\nconst emptyCellData = {\n  used: false,\n  number: null,\n  answer: '',\n  guess: '',\n  locked: false,\n  // row: r,\n  // col: c,\n  across: null,\n  down: null,\n};\n\nexport function createEmptyGrid(size) {\n  const gridData = Array(size);\n  // Rather than [x][y] in column-major order, the cells are indexed as\n  // [row][col] in row-major order.\n  for (let r = 0; r < size; r++) {\n    gridData[r] = Array(size);\n    for (let c = 0; c < size; c++) {\n      gridData[r][c] = {\n        ...emptyCellData,\n        row: r,\n        col: c,\n      };\n    }\n  }\n\n  return gridData;\n}\n\nexport function fillClues(gridData, clues, data, direction) {\n  const dir = directionInfo[direction];\n\n  Object.entries(data[direction]).forEach(([number, info]) => {\n    const { row: rowStart, col: colStart, clue, answer } = info;\n    for (let i = 0; i < answer.length; i++) {\n      const row = rowStart + (dir.primary === 'row' ? i : 0);\n      const col = colStart + (dir.primary === 'col' ? i : 0);\n      const cellData = gridData[row][col];\n\n      // TODO?: check to ensure the answer is the same if it's already set?\n      cellData.used = true;\n      cellData.answer = answer[i];\n      cellData[direction] = number;\n\n      if (i === 0) {\n        // TODO?: check to ensure the number is the same if it's already set?\n        cellData.number = number;\n      }\n    }\n\n    clues[direction].push({ number, clue });\n  });\n\n  clues[direction].sort(byNumber);\n}\n\n// Given the \"nice format\" for a crossword, generate the usable data optimized\n// for rendering and our interactivity.\nexport function createGridData(data) {\n  const acrossMax = calculateExtents(data, 'across');\n  const downMax = calculateExtents(data, 'down');\n\n  const size =\n    Math.max(...Object.values(acrossMax), ...Object.values(downMax)) + 1;\n\n  const gridData = createEmptyGrid(size);\n\n  // Now fill with answers... and also collect the clues\n  const clues = {\n    across: [],\n    down: [],\n  };\n\n  fillClues(gridData, clues, data, 'across');\n  fillClues(gridData, clues, data, 'down');\n\n  return { size, gridData, clues };\n}\n\n// sort helper for clues...\nexport function byNumber(a, b) {\n  const aNum = Number.parseInt(a.number, 10);\n  const bNum = Number.parseInt(b.number, 10);\n\n  return aNum - bNum;\n}\n\nexport function clearGuesses(storageKey) {\n  if (!window.localStorage) {\n    return;\n  }\n\n  window.localStorage.removeItem(storageKey);\n}\n\nexport function saveGuesses(gridData, storageKey) {\n  const { localStorage } = window;\n  if (!localStorage) {\n    return;\n  }\n\n  const guesses = serializeGuesses(gridData);\n\n  const saveData = {\n    date: Date.now(),\n    guesses,\n  };\n\n  localStorage.setItem(storageKey, JSON.stringify(saveData));\n}\n\nexport function serializeGuesses(gridData) {\n  const guesses = gridData.reduce((memo, row, r) => {\n    return row.reduce((memoInner, cellData, c) => {\n      const { guess } = cellData;\n      if (guess !== '') {\n        memoInner[`${r}_${c}`] = cellData.guess;\n      }\n      return memoInner;\n    }, memo);\n  }, {});\n\n  return guesses;\n}\n\nexport function loadGuesses(gridData, storageKey) {\n  const { localStorage } = window;\n  if (!localStorage) {\n    return;\n  }\n\n  const saveRaw = localStorage.getItem(storageKey);\n  if (!saveRaw) {\n    return;\n  }\n\n  const saveData = JSON.parse(saveRaw);\n\n  // TODO: check date for expiration?\n  deserializeGuesses(gridData, saveData.guesses);\n}\n\nexport function deserializeGuesses(gridData, guesses) {\n  Object.entries(guesses).forEach(([key, val]) => {\n    const [r, c] = key.split('_');\n    // ignore any out-of-bounds guesses!\n    if (r <= gridData.length - 1 && c <= gridData[0].length - 1) {\n      gridData[r][c].guess = val;\n    }\n  });\n}\n\nexport function findCorrectAnswers(data, gridData) {\n  const correctAnswers = [];\n\n  bothDirections.forEach((direction) => {\n    const across = isAcross(direction);\n    Object.entries(data[direction]).forEach(([num, info]) => {\n      const { row, col } = info;\n      let correct = true;\n      for (let i = 0; i < info.answer.length; i++) {\n        const r = across ? row : row + i;\n        const c = across ? col + i : col;\n        if (gridData[r][c].guess !== info.answer[i]) {\n          correct = false;\n          break;\n        }\n      }\n      if (correct) {\n        // same args as notifyCorrect: direction, number, answer\n        correctAnswers.push([direction, num, info.answer]);\n      }\n    });\n  });\n\n  return correctAnswers;\n}\n","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport produce from 'immer';\nimport styled, { ThemeContext, ThemeProvider } from 'styled-components';\n\nimport Cell from './Cell';\nimport DirectionClues from './DirectionClues';\n\nimport {\n  bothDirections,\n  createGridData,\n  isAcross,\n  otherDirection,\n  clearGuesses,\n  saveGuesses,\n  loadGuesses,\n  findCorrectAnswers,\n} from './util';\n\nimport { CrosswordContext, CrosswordSizeContext } from './context';\n\n// TODO: make this a component property!\nconst defaultStorageKey = 'guesses';\n\nconst defaultTheme = {\n  columnBreakpoint: '768px',\n  gridBackground: 'rgb(0,0,0)',\n  cellBackground: 'rgb(255,255,255)',\n  cellBorder: 'rgb(0,0,0)',\n  textColor: 'rgb(0,0,0)',\n  numberColor: 'rgba(0,0,0, 0.25)',\n  focusBackground: 'rgb(255,255,0)',\n  highlightBackground: 'rgb(255,255,204)',\n};\n\n// eslint-disable-next-line\nconst OuterWrapper = styled.div.attrs((props) => ({\n  className: `crossword${props.correct ? ' correct' : ''}`,\n}))`\n  margin: 0;\n  padding: 0;\n  border: 0;\n  /* position: relative; */\n  /* width: 40%; */\n  display: flex;\n  flex-direction: row;\n\n  @media (max-width: ${(props) => props.theme.columnBreakpoint}) {\n    flex-direction: column;\n  }\n`;\n\nconst GridWrapper = styled.div.attrs((props) => ({\n  className: 'grid',\n}))`\n  /* position: relative; */\n  min-width: 20rem;\n  max-width: 60rem; /* Should the size matter? */\n  width: auto;\n  flex: 2 1 50%;\n`;\n\nconst CluesWrapper = styled.div.attrs((props) => ({\n  className: 'clues',\n}))`\n  padding: 0 1em;\n  flex: 1 2 25%;\n\n  @media (max-width: ${(props) => props.theme.columnBreakpoint}) {\n    margin-top: 2em;\n  }\n\n  .direction {\n    margin-bottom: 2em;\n    /* padding: 0 1em;\n    flex: 1 1 20%; */\n\n    .header {\n      margin-top: 0;\n      margin-bottom: 0.5em;\n    }\n\n    div {\n      margin-top: 0.5em;\n    }\n  }\n`;\n\n/**\n * The primary, and default, export from the react-crossword library, Crossword\n * renders an answer grid and clues, and manages data and user interaction.\n */\nconst Crossword = React.forwardRef(\n  (\n    {\n      data,\n      onCorrect,\n      onLoadedCorrect,\n      onCrosswordCorrect,\n      onCellChange,\n      useStorage,\n      puzzleName,\n      theme,\n    },\n    ref\n  ) => {\n    const [size, setSize] = useState(null);\n    const [gridData, setGridData] = useState(null);\n    const [clues, setClues] = useState(null);\n    const [focused, setFocused] = useState(false);\n    const [focusedRow, setFocusedRow] = useState(0);\n    const [focusedCol, setFocusedCol] = useState(0);\n    const [currentDirection, setCurrentDirection] = useState('across');\n    const [currentNumber, setCurrentNumber] = useState('1');\n    const [bulkChange, setBulkChange] = useState(null);\n    const [checkQueue, setCheckQueue] = useState([]);\n    const [crosswordCorrect, setCrosswordCorrect] = useState(false);\n\n    const inputRef = useRef();\n\n    const contextTheme = useContext(ThemeContext);\n\n    const getCellData = useCallback(\n      (row, col) => {\n        if (row >= 0 && row < size && col >= 0 && col < size) {\n          return gridData[row][col];\n        }\n\n        // fake cellData to represent \"out of bounds\"\n        return { row, col, used: false, outOfBounds: true };\n      },\n      [size, gridData]\n    );\n\n    const setCellCharacter = useCallback(\n      (row, col, char) => {\n        const cell = getCellData(row, col);\n\n        if (!cell.used) {\n          return;\n        }\n\n        // If the character is already the cell's guess, there's nothing to do.\n        if (cell.guess === char) {\n          return;\n        }\n\n        // update the gridData with the guess\n        setGridData(\n          produce((draft) => {\n            draft[row][col].guess = char;\n          })\n        );\n\n        // push the row/col for checking!\n        setCheckQueue(\n          produce((draft) => {\n            draft.push({ row, col });\n          })\n        );\n\n        if (onCellChange) {\n          onCellChange(row, col, char);\n        }\n      },\n      [getCellData, onCellChange]\n    );\n\n    const notifyCorrect = useCallback(\n      (direction, number, answer) => {\n        if (onCorrect) {\n          // We *used* to need a timeout workaround to ensure this happened\n          // *after* the state had updated and the DOM rendered.... do we still?\n          onCorrect(direction, number, answer);\n\n          // For future reference, the call looked like:\n          //\n          // setTimeout(() => {\n          //   window.requestAnimationFrame(() => {\n          //     onCorrect(direction, number, answer);\n          //   });\n          // });\n        }\n      },\n      [onCorrect]\n    );\n\n    const checkCorrectness = useCallback(\n      (row, col) => {\n        const cell = getCellData(row, col);\n\n        // check all the cells for both across and down answers that use this\n        // cell\n        bothDirections.forEach((direction) => {\n          const across = isAcross(direction);\n          const number = cell[direction];\n          if (!number) {\n            return;\n          }\n\n          const info = data[direction][number];\n\n          // We start by looking at the current cell... if it's not correct, we\n          // don't need to check anything else!\n          let correct = cell.guess === cell.answer;\n\n          if (correct) {\n            // We *could* compare cell.guess against cell.answer for all the\n            // cells, but info.answer is a simple string and gets us the length\n            // as well (and we only have to calulate row/col math once).\n            for (let i = 0; i < info.answer.length; i++) {\n              const checkCell = getCellData(\n                info.row + (across ? 0 : i),\n                info.col + (across ? i : 0)\n              );\n\n              if (checkCell.guess !== info.answer[i]) {\n                correct = false;\n                break;\n              }\n            }\n          }\n\n          // update the clue state\n          setClues(\n            produce((draft) => {\n              const clueInfo = draft[direction].find(\n                (i) => i.number === number\n              );\n              clueInfo.correct = correct;\n            })\n          );\n\n          if (correct) {\n            notifyCorrect(direction, number, info.answer);\n          }\n        });\n      },\n      [getCellData]\n    );\n\n    // Any time the checkQueue changes, call checkCorrectness!\n    useEffect(() => {\n      if (checkQueue.length === 0) {\n        return;\n      }\n\n      checkQueue.forEach(({ row, col }) => checkCorrectness(row, col));\n      setCheckQueue([]);\n    }, [checkQueue, checkCorrectness]);\n\n    // Any time the clues change, determine if they are all correct or not.\n    useEffect(() => {\n      setCrosswordCorrect(\n        clues &&\n          bothDirections.every((direction) =>\n            clues[direction].every((clueInfo) => clueInfo.correct)\n          )\n      );\n    }, [clues]);\n\n    // Let the consumer know everything's correct (or not) if they've asked to\n    // be informed.\n    useEffect(() => {\n      if (onCrosswordCorrect) {\n        onCrosswordCorrect(crosswordCorrect);\n      }\n    }, [crosswordCorrect, onCrosswordCorrect]);\n\n    // focus and movement\n    const focus = useCallback(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n        setFocused(true);\n      }\n    }, []);\n\n    const moveTo = useCallback(\n      (row, col, directionOverride) => {\n        let direction = directionOverride ?? currentDirection;\n        const candidate = getCellData(row, col);\n\n        if (!candidate.used) {\n          return false;\n        }\n\n        if (!candidate[direction]) {\n          direction = otherDirection(direction);\n        }\n\n        setFocusedRow(row);\n        setFocusedCol(col);\n        setCurrentDirection(direction);\n        setCurrentNumber(candidate[direction]);\n\n        return candidate;\n      },\n      [getCellData]\n    );\n\n    const moveRelative = useCallback(\n      (dRow, dCol) => {\n        // We expect *only* one of dRow or dCol to have a non-zero value, and\n        // that's the direction we will \"prefer\".  If *both* are set (or zero),\n        // we don't change the direction.\n        let direction;\n        if (dRow !== 0 && dCol === 0) {\n          direction = 'down';\n        } else if (dRow === 0 && dCol !== 0) {\n          direction = 'across';\n        }\n\n        const cell = moveTo(focusedRow + dRow, focusedCol + dCol, direction);\n\n        return cell;\n      },\n      [focusedRow, focusedCol, moveTo]\n    );\n\n    const moveForward = useCallback(() => {\n      const across = isAcross(currentDirection);\n      moveRelative(across ? 0 : 1, across ? 1 : 0);\n    }, [currentDirection, moveRelative]);\n\n    const moveBackward = useCallback(() => {\n      const across = isAcross(currentDirection);\n      moveRelative(across ? 0 : -1, across ? -1 : 0);\n    }, [currentDirection, moveRelative]);\n\n    // keyboard handling\n    const handleSingleCharacter = useCallback(\n      (char) => {\n        setCellCharacter(focusedRow, focusedCol, char.toUpperCase());\n        moveForward();\n      },\n      [focusedRow, focusedCol, setCellCharacter, moveForward]\n    );\n\n    // We use the keydown event for control/arrow keys, but not for textual\n    // input, because it's hard to suss out when a key is \"regular\" or not.\n    const handleInputKeyDown = useCallback(\n      (event) => {\n        // if ctrl, alt, or meta are down, ignore the event (let it bubble)\n        if (event.ctrlKey || event.altKey || event.metaKey) {\n          return;\n        }\n\n        let preventDefault = true;\n        const { key } = event;\n        // console.log('CROSSWORD KEYDOWN', event.key);\n\n        // FUTURE: should we \"jump\" over black space?  That might help some for\n        // keyboard users.\n        switch (key) {\n          case 'ArrowUp':\n            moveRelative(-1, 0);\n            break;\n\n          case 'ArrowDown':\n            moveRelative(1, 0);\n            break;\n\n          case 'ArrowLeft':\n            moveRelative(0, -1);\n            break;\n\n          case 'ArrowRight':\n            moveRelative(0, 1);\n            break;\n\n          case ' ': // treat space like tab?\n          case 'Tab': {\n            const other = otherDirection(currentDirection);\n            const cellData = getCellData(focusedRow, focusedCol);\n            if (cellData[other]) {\n              setCurrentDirection(other);\n              setCurrentNumber(cellData[other]);\n            }\n            break;\n          }\n\n          // Backspace: delete the current cell, and move to the previous cell\n          // Delete:    delete the current cell, but don't move\n          case 'Backspace':\n          case 'Delete': {\n            setCellCharacter(focusedRow, focusedCol, '');\n            if (key === 'Backspace') {\n              moveBackward();\n            }\n            break;\n          }\n\n          case 'Home':\n          case 'End': {\n            // move to beginning/end of this entry?\n            const info = data[currentDirection][currentNumber];\n            const {\n              answer: { length },\n            } = info;\n            let { row, col } = info;\n            if (key === 'End') {\n              const across = isAcross(currentDirection);\n              if (across) {\n                col += length - 1;\n              } else {\n                row += length - 1;\n              }\n            }\n\n            moveTo(row, col);\n            break;\n          }\n\n          default:\n            // It would be nice to handle \"regular\" characters with onInput, but\n            // that is still experimental, so we can't count on it.  Instead, we\n            // assume that only \"length 1\" values are regular.\n            if (key.length !== 1) {\n              preventDefault = false;\n              break;\n            }\n\n            handleSingleCharacter(key);\n            break;\n        }\n\n        if (preventDefault) {\n          event.preventDefault();\n        }\n      },\n      [\n        data,\n        focusedRow,\n        focusedCol,\n        currentDirection,\n        currentNumber,\n        getCellData,\n        setCellCharacter,\n        moveRelative,\n      ]\n    );\n\n    const handleInputChange = useCallback((event) => {\n      event.preventDefault();\n      setBulkChange(event.target.value);\n    }, []);\n\n    useEffect(() => {\n      if (!bulkChange) {\n        return;\n      }\n\n      // handle bulkChange by updating a character at a time (this lets us\n      // leverage the existing character-entry logic).\n      handleSingleCharacter(bulkChange[0]);\n      setBulkChange(bulkChange.length === 1 ? null : bulkChange.substring(1));\n    }, [bulkChange, handleSingleCharacter]);\n\n    // When the data changes, recalculate the gridData, size, etc.\n    useEffect(() => {\n      // eslint-disable-next-line no-shadow\n      const { size, gridData, clues } = createGridData(data);\n\n      let loadedCorrect;\n      if (useStorage) {\n        // loadGuesses(gridData, defaultStorageKey);\n        loadGuesses(gridData, puzzleName);\n        loadedCorrect = findCorrectAnswers(data, gridData);\n\n        loadedCorrect.forEach(([direction, num]) => {\n          const clueInfo = clues[direction].find((i) => i.number === num);\n          clueInfo.correct = true;\n        });\n      }\n\n      setSize(size);\n      setGridData(gridData);\n      setClues(clues);\n\n      // Should we start with 1-across highlighted/focused?\n\n      // TODO: track input-field focus so we don't draw highlight when we're not\n      // really focused, *and* use first actual clue (whether across or down?)\n      setFocusedRow(0);\n      setFocusedCol(0);\n      setCurrentDirection('across');\n      setCurrentNumber('1');\n\n      setBulkChange(null);\n\n      // trigger any \"loaded correct\" guesses...\n      if (loadedCorrect && loadedCorrect.length > 0 && onLoadedCorrect) {\n        onLoadedCorrect(loadedCorrect);\n      }\n    }, [data, onLoadedCorrect, useStorage]);\n\n    useEffect(() => {\n      if (gridData === null || !useStorage) {\n        return;\n      }\n\n      saveGuesses(gridData, puzzleName);\n    }, [gridData, useStorage]);\n\n    const handleCellClick = useCallback(\n      (cellData) => {\n        const { row, col } = cellData;\n        const other = otherDirection(currentDirection);\n\n        // should this use moveTo?\n        setFocusedRow(row);\n        setFocusedCol(col);\n\n        let direction = currentDirection;\n\n        // We switch to the \"other\" direction if (a) the current direction isn't\n        // available in the clicked cell, or (b) we're already focused and the\n        // clicked cell is the focused cell, *and* the other direction is\n        // available.\n        if (\n          !cellData[currentDirection] ||\n          (focused &&\n            row === focusedRow &&\n            col === focusedCol &&\n            cellData[other])\n        ) {\n          setCurrentDirection(other);\n          direction = other;\n        }\n\n        setCurrentNumber(cellData[direction]);\n\n        focus();\n      },\n      [focused, focusedRow, focusedCol, currentDirection, focus]\n    );\n\n    const handleInputClick = useCallback(\n      (event) => {\n        // *don't* event.preventDefault(), because we want the input to actually\n        // take focus\n\n        // Like general cell-clicks, cliking on the input can change direction.\n        // Unlike cell clicks, we *know* we're clicking on the already-focused\n        // cell!\n        const other = otherDirection(currentDirection);\n        const cellData = getCellData(focusedRow, focusedCol);\n\n        let direction = currentDirection;\n\n        if (focused && cellData[other]) {\n          setCurrentDirection(other);\n          direction = other;\n        }\n\n        setCurrentNumber(cellData[direction]);\n        focus();\n      },\n      [currentDirection, focusedRow, focusedCol, getCellData, focus]\n    );\n\n    const handleClueSelected = useCallback(\n      (direction, number) => {\n        const info = data[direction][number];\n        // TODO: sanity-check info?\n        moveTo(info.row, info.col, direction);\n        focus();\n      },\n      [data, moveTo, focus]\n    );\n\n    // expose some imperative methods\n    useImperativeHandle(\n      ref,\n      () => ({\n        /**\n         * Sets focus to the crossword component.\n         */\n        focus: () => {\n          focus();\n        },\n\n        /**\n         * Resets the entire crossword; clearing all answers in the grid and\n         * also any persisted data.\n         */\n        reset: () => {\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                  if (cellData.used) {\n                    cellData.guess = '';\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  delete clueInfo.correct;\n                });\n              });\n            })\n          );\n\n          if (useStorage) {\n            clearGuesses(puzzleName);\n          }\n        },\n\n        /**\n         * Fills all the answers in the grid and calls the `onLoadedCorrect`\n         * callback with _**every**_ answer.\n         */\n        fillAllAnswers: () => {\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                  if (cellData.used) {\n                    cellData.guess = cellData.answer;\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  clueInfo.correct = true;\n                });\n              });\n            })\n          );\n\n          // trigger onLoadedCorrect with every clue!\n          if (onLoadedCorrect) {\n            const loadedCorrect = [];\n            bothDirections.forEach((direction) => {\n              Object.entries(data[direction]).forEach(([number, info]) => {\n                loadedCorrect.push([direction, number, info.answer]);\n              });\n            });\n\n            onLoadedCorrect(loadedCorrect);\n          }\n        },\n\n        /**\n         * Returns whether the crossword is entirely correct or not.\n         *\n         * @since 2.2.0\n         */\n        isCrosswordCorrect: () => {\n          return crosswordCorrect;\n        },\n      }),\n      [data, onLoadedCorrect, useStorage, focus, crosswordCorrect]\n    );\n\n    // constants for rendering...\n\n    // We have several properties that we bundle together as context for the\n    // cells, rather than have them as independent properties.  (Or should they\n    // stay separate? Or be passed as \"spread\" values?)\n    const cellSize = 100 / size;\n    const cellPadding = 0.125;\n    const cellInner = cellSize - cellPadding * 2;\n    const cellHalf = cellSize / 2;\n    const fontSize = cellInner * 0.7;\n\n    const context = {\n      focused,\n      selectedDirection: currentDirection,\n      selectedNumber: currentNumber,\n      onClueSelected: handleClueSelected,\n    };\n\n    // The final theme is the merger of three values: the \"theme\" property\n    // passed to the component (which takes precedence), any values from\n    // ThemeContext, and finally the \"defaultTheme\" values fill in for any\n    // needed ones that are missing.  (We create this in standard last-one-wins\n    // order in Javascript, of course.)\n    const finalTheme = { ...defaultTheme, ...contextTheme, ...theme };\n\n    // REVIEW: do we want to recalc this all the time, or cache in state?\n    const cells = [];\n    if (gridData) {\n      gridData.forEach((rowData, row) => {\n        rowData.forEach((cellData, col) => {\n          if (!cellData.used) {\n            return;\n          }\n          cells.push(\n            <Cell\n              // eslint-disable-next-line react/no-array-index-key\n              key={`R${row}C${col}`}\n              cellData={cellData}\n              focus={focused && row === focusedRow && col === focusedCol}\n              highlight={\n                focused &&\n                currentNumber &&\n                cellData[currentDirection] === currentNumber\n              }\n              onClick={handleCellClick}\n            />\n          );\n        });\n      });\n    }\n\n    return (\n      <CrosswordContext.Provider value={context}>\n        <CrosswordSizeContext.Provider\n          value={{ cellSize, cellPadding, cellInner, cellHalf, fontSize }}\n        >\n          <ThemeProvider theme={finalTheme}>\n            <OuterWrapper correct={crosswordCorrect}>\n              <GridWrapper>\n                {/*\n                This div is hard-coded because we *need* a zero-padded,\n                relative-positioned element for aligning the <input> with the\n                cells in the <svg>.\n              */}\n                <div style={{ margin: 0, padding: 0, position: 'relative' }}>\n                  <svg viewBox=\"0 0 100 100\">\n                    <rect\n                      x={0}\n                      y={0}\n                      width={100}\n                      height={100}\n                      fill={finalTheme.gridBackground}\n                    />\n                    {cells}\n                  </svg>\n                  <input\n                    ref={inputRef}\n                    aria-label=\"crossword-input\"\n                    type=\"text\"\n                    onClick={handleInputClick}\n                    onKeyDown={handleInputKeyDown}\n                    onChange={handleInputChange}\n                    value=\"\"\n                    // onInput={this.handleInput}\n                    autoComplete=\"off\"\n                    spellCheck=\"false\"\n                    autoCorrect=\"off\"\n                    style={{\n                      position: 'absolute',\n                      // In order to ensure the top/left positioning makes sense,\n                      // there is an absolutely-positioned <div> with no\n                      // margin/padding that we *don't* expose to consumers.  This\n                      // keeps the math much more reliable.  (But we're still\n                      // seeing a slight vertical deviation towards the bottom of\n                      // the grid!  The \"* 0.995\" seems to help.)\n                      top: `calc(${focusedRow * cellSize * 0.995}% + 2px)`,\n                      left: `calc(${focusedCol * cellSize}% + 2px)`,\n                      width: `calc(${cellSize}% - 4px)`,\n                      height: `calc(${cellSize}% - 4px)`,\n                      fontSize: `${fontSize * 6}px`, // waaay too small...?\n                      textAlign: 'center',\n                      textAnchor: 'middle',\n                      backgroundColor: 'transparent',\n                      caretColor: 'transparent',\n                      margin: 0,\n                      padding: 0,\n                      border: 0,\n                      cursor: 'default',\n                    }}\n                  />\n                </div>\n              </GridWrapper>\n              {/* <CluesWrapper>\n                {clues &&\n                  bothDirections.map((direction) => (\n                    <DirectionClues\n                      key={direction}\n                      direction={direction}\n                      clues={clues[direction]}\n                    />\n                  ))}\n              </CluesWrapper> */}\n              <CluesWrapper>\n                {clues && (\n                  <DirectionClues\n                    key={'across'}\n                    direction={'across'}\n                    clues={clues['across']}\n                  />\n                )}\n              </CluesWrapper>\n              <CluesWrapper>\n                {clues && (\n                  <DirectionClues\n                    key={'down'}\n                    direction={'down'}\n                    clues={clues['down']}\n                  />\n                )}\n              </CluesWrapper>\n            </OuterWrapper>\n          </ThemeProvider>\n        </CrosswordSizeContext.Provider>\n      </CrosswordContext.Provider>\n    );\n  }\n);\n\nCrossword.displayName = 'Crossword';\n\nconst clueShape = PropTypes.shape({\n  clue: PropTypes.string.isRequired,\n  answer: PropTypes.string.isRequired,\n  row: PropTypes.number.isRequired,\n  col: PropTypes.number.isRequired,\n});\n\nCrossword.propTypes = {\n  /** clue/answer data; see <a href=\"#cluedata-format\">Clue/data format</a> for details. */\n  data: PropTypes.shape({\n    /** \"across\" clues and answers */\n    across: PropTypes.objectOf(clueShape),\n    /** \"down\" clues and answers */\n    down: PropTypes.objectOf(clueShape),\n  }).isRequired,\n\n  /** presentation values for the crossword; these override any values coming from a parent ThemeProvider context. */\n  theme: PropTypes.shape({\n    /** browser-width at which the clues go from showing beneath the grid to showing beside the grid */\n    columnBreakpoint: PropTypes.string,\n\n    /** overall background color (fill) for the crossword grid; can be `'transparent'` to show through a page background image */\n    gridBackground: PropTypes.string,\n    /**  background for an answer cell */\n    cellBackground: PropTypes.string,\n    /** border for an answer cell */\n    cellBorder: PropTypes.string,\n    /** color for answer text (entered by the player) */\n    textColor: PropTypes.string,\n    /** color for the across/down numbers in the grid */\n    numberColor: PropTypes.string,\n    /** background color for the cell with focus, the one that the player is typing into */\n    focusBackground: PropTypes.string,\n    /** background color for the cells in the answer the player is working on,\n     * helps indicate in which direction focus will be moving; also used as a\n     * background on the active clue  */\n    highlightBackground: PropTypes.string,\n  }),\n\n  /** whether to use browser storage to persist the player's work-in-progress */\n  useStorage: PropTypes.bool,\n  puzzleName: PropTypes.string,\n\n  /** callback function that fires when a player answers a clue correctly; called with `(direction, number, answer)` arguments, where `direction` is `'across'` or `'down'`, `number` is the clue number as text (like `'1'`), and `answer` is the answer itself */\n  onCorrect: PropTypes.func,\n  /** callback function that's called when a crossword is loaded, to batch up correct answers loaded from storage; passed an array of the same values that `onCorrect` would recieve */\n  onLoadedCorrect: PropTypes.func,\n  /** callback function that's called when the overall crossword is completely correct (or not) */\n  onCrosswordCorrect: PropTypes.func,\n\n  /**\n   *  callback function called when a cell changes (e.g. when the user types a\n   *  letter); called with `(row, col, char)` arguments, where the `row` and\n   *  `column` are the 0-based position of the cell, and `char` is the character\n   *  typed (already massaged into upper-case)\n   *\n   *  @since 2.1.0\n   */\n  onCellChange: PropTypes.func,\n};\n\nCrossword.defaultProps = {\n  theme: null,\n  useStorage: true,\n  // useStorage: false,\n  puzzleName: 'guesses',\n  onCorrect: null,\n  onLoadedCorrect: null,\n  onCrosswordCorrect: null,\n  onCellChange: null,\n};\n\nexport default Crossword;\n","// We re-export ThemeProvider from styled-components so that consumers don't\n// have to pull it in explicitly if we are the only reason.  (This also helps\n// with our style guide!)\nimport { ThemeProvider } from 'styled-components';\n\nimport Cell from './Cell';\nimport Clue from './Clue';\nimport DirectionClues from './DirectionClues';\nimport Crossword from './Crossword';\nimport { CrosswordContext, CrosswordSizeContext } from './context';\n\nexport {\n  Cell,\n  Clue,\n  DirectionClues,\n  CrosswordContext,\n  CrosswordSizeContext,\n  Crossword,\n  ThemeProvider,\n};\n\nexport default Crossword;\n","const data = {\n  1: {\n    puzzleName: 'Singapore Pools',\n    data: {\n      across: {\n        1: {clue: 'Region that Singapore is in',answer: 'APAC',row: 0,col: 0,},\n        5: {clue: 'A fearless fighter turned Singapore citizen',answer: 'JETLI',row: 0,col: 5,},\n        10: {clue: 'Maori culture',answer: 'TIKI',row: 0,col: 11,},\n        14: {clue: 'Kee ____ (slang)',answer: 'CHIU',row: 1,col: 0,},\n        15: {clue: 'Financial centre with vast liquid assets?',answer: 'OCEAN',row: 1,col: 5,},\n        16: {clue: 'Band whose name also means \\'life\\' in Hebrew',answer: 'HAIM',row: 1,col: 11,},\n        17: {clue: 'Influencer that went up against MOM',answer: 'JADE',row: 2,col: 0,},\n        18: {clue: 'Our 3rd PM, to our 1st PM',answer: 'SONOF',row: 2,col: 5,},\n        19: {clue: 'Like fine wine',answer: 'AGED',row: 2,col: 11,},\n        20: {clue: 'A girl\\'s school that appears in the Singapore flag',answer: 'CRESCENT',row: 3,col: 0,},\n        22: {clue: 'JC at the forefront of innovation',answer: 'INNOVA',row: 3,col: 9,},\n        24: {clue: 'Gains access with an EZ-link card',answer: 'TAPS',row: 4,col: 3,\n        },\n        25: {clue: 'Malay child',answer: 'ANAK',row: 4,col: 8,\n        },\n        26: {clue: 'Thin-skinned delight',answer: 'POPIAH',row: 5,col: 0,\n        },\n        29: {clue: 'Particle production',answer: 'EMISSION',row: 5,col: 7,\n        },\n        33: {clue: 'Running shoes brand',answer: 'ASICS',row: 6,col: 0,\n        },\n        34: {clue: 'One-star restaurant in Keong Saik',answer: 'META',row: 6,col: 7,\n        },\n        35: {clue: 'UN agency that monitors the Earth\\'s atmosphere',answer: 'WMO',row: 6,col: 12,\n        },\n        36: {clue: 'Sudden pull',answer: 'YANK',row: 7,col: 0,\n        },\n        37: {clue: 'Official substitute',answer: 'PROXY',row: 7,col: 5,\n        },\n        39: {clue: 'Justin Timberlake\\'s actress wife',answer: 'BIEL',row: 7,col: 11,\n        },\n        40: {clue: 'Some teenagers in black',answer: 'EMO',row: 8,col: 0,\n        },\n        41: {clue: 'An institution with 11 Singaporean schools',answer: 'CHIJ',row: 8,col: 4,\n        },\n        42: {clue: 'Protrude out',answer: 'BULGE',row: 8,col: 10,\n        },\n        43: {clue: 'Hari ________',answer: 'RAYAHAJI',row: 9,col: 0,\n        },\n        45: {clue: 'DBS transportation method',answer: 'PAYLAH',row: 9,col: 9,\n        },\n        46: {clue: 'An order passing down, in short',answer: 'DESC',row: 10,col: 3,\n        },\n        47: {clue: 'What one might say at the end of the week',answer: 'TGIF',row: 10,col: 8,\n        },\n        48: {clue: 'Grocery supplies during lockdown announcements',answer: 'NOMORE',row: 11,col: 0,\n        },\n        51: {clue: 'Annoyance for tinnitus patients',answer: 'EARTONES',row: 11,col: 7,\n        },\n        55: {clue: 'What we do for healthcare workers',answer: 'CLAP',row: 12,col: 0,\n        },\n        56: {clue: 'Ra\\'s al Ghul\\'s daughter',answer: 'TALIA',row: 12,col: 5,\n        },\n        58: {clue: 'Pakistani language',answer: 'URDU',row: 12,col: 11,\n        },\n        59: {clue: 'Fog in the Cloud Forest',answer: 'MIST',row: 13,col: 0,\n        },\n        60: {clue: 'I _____ aware',answer: 'WASNT',row: 13,col: 5,\n        },\n        61: {clue: 'Keppel platforms',answer: 'RIGS',row: 13,col: 11,\n        },\n        62: {clue: 'Objects found along HDB corridors',answer: 'POTS',row: 14,col: 0,\n        },\n        63: {clue: 'Talk pompously',answer: 'ORATE',row: 14,col: 5,\n        },\n        64: {clue: 'Cinematic franchise based off comic books',answer: 'DCEU',row: 14,col: 11,},\n      },\n      down: {\n        1: {\n          clue: 'Pre-uni institution not at its full potential?',\n          answer: 'ACJC',\n          row: 0,\n          col: 0,\n        },\n        2: {\n          clue: 'First half of a medicine shop?',\n          answer: 'ACJC',\n          row: 0,\n          col: 1,\n        },\n        3: {\n          clue: 'Government helper',\n          answer: 'AIDE',\n          row: 0,\n          col: 2,\n        },\n        4: {\n          clue: '* Equipment for some pool games',\n          answer: 'CUESTICK',\n          row: 0,\n          col: 3,\n        },\n        5: {\n          clue: '* Big winner in Singapore pools',\n          answer: 'JOSEPH',\n          row: 0,\n          col: 5,\n        },\n        6: {\n          clue: 'Class about curves, in short',\n          answer: 'ECONS',\n          row: 0,\n          col: 6,\n        },\n        7: {\n          clue: 'Main structure of a pitch meeting?',\n          answer: 'TENT',\n          row: 0,\n          col: 7,\n        },\n        8: {\n          clue: 'Wah ___ eh (slang)',\n          answer: 'LAO',\n          row: 0,\n          col: 8,\n        },\n        9: {\n          clue: '* Some atas Singapore pools',\n          answer: 'INFINITY',\n          row: 0,\n          col: 9,\n        },\n        10: {\n          clue: 'What courteous people give',\n          answer: 'THANKS',\n          row: 0,\n          col: 11,\n        },\n        11: {\n          clue: 'Famous cartoon parrot',\n          answer: 'IAGO',\n          row: 0,\n          col: 12,\n        },\n        12: {\n          clue: 'Capital of Ukraine',\n          answer: 'KIEV',\n          row: 0,\n          col: 13,\n        },\n        13: {\n          clue: 'Stat board involved in digital tech',\n          answer: 'IMDA',\n          row: 0,\n          col: 14,\n        },\n        21: {\n          clue: 'Stat board located at the airport',\n          answer: 'CAAS',\n          row: 3,\n          col: 4,\n        },\n        23: {\n          clue: 'Agency for moonwalking',\n          answer: 'NASA',\n          row: 3,\n          col: 10,\n        },\n        25: {\n          clue: 'A luxury credit card in Singapore',\n          answer: 'AMEX',\n          row: 4,\n          col: 8,\n        },\n        26: {\n          clue: 'Person scanning a QR code at the cashier',\n          answer: 'PAYER',\n          row: 5,\n          col: 0,\n        },\n        27: {\n          clue: '9/11 mastermind',\n          answer: 'OSAMA',\n          row: 5,\n          col: 1,\n        },\n        28: {\n          clue: 'Relating to the Philippines',\n          answer: 'PINOY',\n          row: 5,\n          col: 2,\n        },\n        29: {\n          clue: 'A face or an eggplant, say',\n          answer: 'EMOJI',\n          row: 5,\n          col: 7,\n        },\n        30: {\n          clue: '\"Consider it done\"',\n          answer: 'IWILL',\n          row: 5,\n          col: 12,\n        },\n        31: {\n          clue: 'Greek finale',\n          answer: 'OMEGA',\n          row: 5,\n          col: 13,\n        },\n        32: {\n          clue: 'A Singlish expression of doubt',\n          answer: 'NOLEH',\n          row: 5,\n          col: 14,\n        },\n        37: {\n          clue: 'Period of heightened alert',\n          answer: 'PHASETWO',\n          row: 7,\n          col: 5,\n        },\n        38: {\n          clue: 'The pre-uni institution of Singapore\\'s oldest school',\n          answer: 'RIJC',\n          row: 7,\n          col: 6,\n        },\n        39: {\n          clue: '* Singapore Pools activity',\n          answer: 'BUYFOURD',\n          row: 7,\n          col: 11,\n        },\n        41: {\n          clue: 'An endearing term referring to a tutor',\n          answer: 'CHER',\n          row: 8,\n          col: 4,\n        },\n        42: {\n          clue: 'Fish enticement',\n          answer: 'BAIT',\n          row: 8,\n          col: 10,\n        },\n        44: {\n          clue: 'Takes as one\\'s own',\n          answer: 'ADOPTS',\n          row: 9,\n          col: 3,\n        },\n        45: {\n          clue: 'Put a label that recommends an adult\\'s presence',\n          answer: 'PGRATE',\n          row: 9,\n          col: 9,\n        },\n        47: {\n          clue: 'What social media can do to reputations during General Elections',\n          answer: 'TAINT',\n          row: 10,\n          col: 8,\n        },\n        48: {\n          clue: 'Political best-performing loser, in Singapore',\n          answer: 'NCMP',\n          row: 11,\n          col: 0,\n        },\n        49: {\n          clue: 'Partner to aglio in a pasta dish',\n          answer: 'OLIO',\n          row: 11,\n          col: 1,\n        },\n        50: {\n          clue: 'Half-____',\n          answer: 'MAST',\n          row: 11,\n          col: 2,\n        },\n        51: {\n          clue: 'A very cool princess?',\n          answer: 'ELSA',\n          row: 11,\n          col: 7,\n        },\n        52: {\n          clue: 'Exclusive Singapore collectible that comes in blue or pink',\n          answer: 'NRIC',\n          row: 11,\n          col: 12,\n        },\n        53: {\n          clue: 'Slight advantage',\n          answer: 'EDGE',\n          row: 11,\n          col: 13,\n        },\n        54: {\n          clue: 'Teh whitener',\n          answer: 'SUSU',\n          row: 11,\n          col: 14,\n        },\n        57: {\n          clue: 'Post-activity debrief, in short',\n          answer: 'AAR',\n          row: 12,\n          col: 6,\n        },\n      }\n    },\n  },\n  2: {\n    puzzleName: 'Transmutation',\n    data: {\n      across: {\n        1: {'clue': 'Hate strongly', 'answer': 'ABHOR', 'row': 0, 'col': 0}, \n        6: {'clue': 'Macho guy from an 80s cartoon', 'answer': 'HEMAN', 'row': 0, 'col': 6}, \n        11: {'clue': 'State of Sydney, in short', 'answer': 'NSW', 'row': 0, 'col': 12}, \n        14: {'clue': 'Famous ringbearer', 'answer': 'FRODO', 'row': 1, 'col': 0}, \n        15: {'clue': 'Prefix for \"poly\"', 'answer': 'OLIGO', 'row': 1, 'col': 6}, \n        16: {'clue': 'Boat propulsion tool', 'answer': 'OAR', 'row': 1, 'col': 12}, \n        17: {'clue': '* Ability of King Midas, which can be applied to the other starred clues', 'answer': 'GOLDENTOUCH', 'row': 2, 'col': 0}, \n        19: {'clue': 'US spy agency', 'answer': 'CIA', 'row': 2, 'col': 12}, \n        20: {'clue': '\"Come whatever, on the road ahead\"', 'answer': 'ALLSET', 'row': 3, 'col': 1}, \n        21: {'clue': 'Some bedside tablets', 'answer': 'IPADS', 'row': 3, 'col': 10}, \n        23: {'clue': 'New age event, in short?', 'answer': 'BDAY', 'row': 4, 'col': 0}, \n        24: {'clue': 'On-demand solution employed by SAF?', 'answer': 'RESERVISTS', 'row': 4, 'col': 5}, \n        28: {'clue': 'Barbie doll lover', 'answer': 'KEN', 'row': 5, 'col': 0}, \n        29: {'clue': 'Tooth fanatic?', 'answer': 'FAIRY', 'row': 5, 'col': 5}, \n        30: {'clue': 'Common SAF e-mart purchase', 'answer': 'SHOE', 'row': 5, 'col': 11}, \n        31: {'clue': 'What some restless Singaporeans wanted the government to do, during May 2020', 'answer': 'ENDCB', 'row': 6, 'col': 0}, \n        34: {'clue': 'What SAF commandos are trained to be', 'answer': 'ADEPT', 'row': 6, 'col': 7}, \n        36: {'clue': '* Performance for a small settlement? (see 17-across)', 'answer': 'VILLAGESHOW', 'row': 7, 'col': 2}, \n        40: {'clue': 'Green fruit found at FairPrice', 'answer': 'GUAVA', 'row': 8, 'col': 3}, \n        41: {'clue': 'To keep within the organisation, in short', 'answer': 'INHSE', 'row': 8, 'col': 10}, \n        44: {'clue': 'Film rating organisation', 'answer': 'MPAA', 'row': 9, 'col': 0}, \n        47: {'clue': 'Person credited in a footnote', 'answer': 'CITEE', 'row': 9, 'col': 5}, \n        50: {'clue': 'Person doing crosswords?', 'answer': 'YOU', 'row': 9, 'col': 12}, \n        51: {'clue': '* Rescue agents (see 17-across)', 'answer': 'RETRIEVERS', 'row': 10, 'col': 0}, \n        53: {'clue': 'Taiwanese laptop company', 'answer': 'ASUS', 'row': 10, 'col': 11}, \n        54: {'clue': 'Spicy dance?', 'answer': 'SALSA', 'row': 11, 'col': 0}, \n        55: {'clue': 'Emergency vessel, in short', 'answer': 'ESCPOD', 'row': 11, 'col': 8}, \n        57: {'clue': 'The \\'Phua Chu Kang COVID-19 rap\\' campaign for example, in short', 'answer': 'PSA', 'row': 12, 'col': 0}, \n        58: {'clue': '* An irrational concern about long distances? (see 17-across)', 'answer': 'MILECOMPLEX', 'row': 12, 'col': 4}, \n        63: {'clue': 'CPF scheme that protects against home losses', 'answer': 'HPS', 'row': 13, 'col': 0}, \n        64: {'clue': 'Empowering juice stores?', 'answer': 'BOOST', 'row': 13, 'col': 4}, \n        65: {'clue': 'Living tissue', 'answer': 'PLASM', 'row': 13, 'col': 10}, \n        66: {'clue': 'Common breakfast grain', 'answer': 'OAT', 'row': 14, 'col': 0}, \n        67: {'clue': 'Nose productions, informally', 'answer': 'SNOTS', 'row': 14, 'col': 4}, \n        68: {'clue': 'A royal title used in Central and South Asia', 'answer': 'BEGUM', 'row': 14, 'col': 10}\n      }, \n      down: {\n        1: {'clue': 'Country of Taliban, in short', 'answer': 'AFG', 'row': 0, 'col': 0}, \n        2: {'clue': 'Make 23-down wider, say', 'answer': 'BROADEN', 'row': 0, 'col': 1}, \n        3: {'clue': 'Singapore district that is also the name of a local TV series', 'answer': 'HOLLANDV', 'row': 0, 'col': 2}, \n        4: {'clue': 'In a fishy manner', 'answer': 'ODDLY', 'row': 0, 'col': 3}, \n        5: {'clue': 'Mess that seems a little fishy?', 'answer': 'ROES', 'row': 0, 'col': 4}, \n        6: {'clue': 'A coffeeshop drink for a cold day', 'answer': 'HOTTEA', 'row': 0, 'col': 6}, \n        7: {'clue': 'What chess grandmasters get high on?', 'answer': 'ELO', 'row': 0, 'col': 7}, \n        8: {'clue': 'A pair of this equates to an Orchard attraction', 'answer': 'MIU', 'row': 0, 'col': 8}, \n        9: {'clue': 'Private quarters of Singapore\\'s top legal  adviser?', 'answer': 'AGC', 'row': 0, 'col': 9}, \n        10: {'clue': 'A negative yet positive outcome, after visiting some massage parlours', 'answer': 'NOHIV', 'row': 0, 'col': 10}, \n        11: {'clue': 'PayNow\\'s proposition', 'answer': 'NOCASH', 'row': 0, 'col': 12}, \n        12: {'clue': 'Told', 'answer': 'SAIDTO', 'row': 0, 'col': 13}, \n        13: {'clue': 'Fishy species found along Singapore shores', 'answer': 'WRASSE', 'row': 0, 'col': 14}, \n        18: {'clue': 'Reduce in power, especially in games', 'answer': 'NERF', 'row': 2, 'col': 5}, \n        22: {'clue': 'Moving component in an engine', 'answer': 'PISTON', 'row': 3, 'col': 11}, \n        23: {'clue': 'Animal crossing supporter in Singapore?', 'answer': 'BKE', 'row': 4, 'col': 0}, \n        25: {'clue': 'Entryway to our national carrier', 'answer': 'SIAGATE', 'row': 4, 'col': 7}, \n        26: {'clue': 'Our planet to a German', 'answer': 'ERDE', 'row': 4, 'col': 8}, \n        27: {'clue': 'Some breads or whiskys', 'answer': 'RYES', 'row': 4, 'col': 9}, \n        32: {'clue': 'Smoking items', 'answer': 'CIGARS', 'row': 6, 'col': 3}, \n        33: {'clue': '___ Jaz Cafe (popular bar near Bugis)', 'answer': 'BLU', 'row': 6, 'col': 4}, \n        35: {'clue': 'Symbol of the ratio created by 17-across', 'answer': 'PHI', 'row': 6, 'col': 10}, \n        37: {'clue': 'Security detail of 30-across', 'answer': 'LACE', 'row': 7, 'col': 5}, \n        38: {'clue': 'Tel ____', 'answer': 'AVIV', 'row': 7, 'col': 6}, \n        39: {'clue': 'A complaint you might hear in a LAN shop, due to slow connection', 'answer': 'WHYSOLAG', 'row': 7, 'col': 12}, \n        42: {'clue': 'A Japanese affirmation', 'answer': 'SOUDESU', 'row': 8, 'col': 13}, \n        43: {'clue': 'What UK is not, after Brexit', 'answer': 'EUS', 'row': 8, 'col': 14}, \n        44: {'clue': 'Vietnamese restaurant chain that appears in Vivocity', 'answer': 'MRSPHO', 'row': 9, 'col': 0}, \n        45: {'clue': 'Relaxing bath with round vegetables', 'answer': 'PEASPA', 'row': 9, 'col': 1}, \n        46: {'clue': '\"Finally!\"', 'answer': 'ATLAST', 'row': 9, 'col': 2}, \n        48: {'clue': 'Puts up new buildings in CBD, say', 'answer': 'ERECTS', 'row': 9, 'col': 8}, \n        49: {'clue': 'Provider of some roadside replenishments?', 'answer': 'ESSO', 'row': 9, 'col': 9}, \n        52: {'clue': 'Poetic units', 'answer': 'IAMBS', 'row': 10, 'col': 4}, \n        53: {'clue': 'Orchard\\'s connection to Newton?', 'answer': 'APPLE', 'row': 10, 'col': 11}, \n        56: {'clue': 'Location of an NSF\\'s first assignment', 'answer': 'CMPB', 'row': 11, 'col': 10}, \n        59: {'clue': 'Orchard installation that\\'s definitely not free of charge?', 'answer': 'ION', 'row': 12, 'col': 5}, \n        60: {'clue': 'Bathroom in Bath', 'answer': 'LOO', 'row': 12, 'col': 6}, \n        61: {'clue': 'Exactly half a day behind Singapore', 'answer': 'EST', 'row': 12, 'col': 7}, \n        62: {'clue': 'Little Chinese girl, in short', 'answer': 'XMM', 'row': 12, 'col': 14}}\n      }\n    }\n  };\n\nexport default data;","import logo from './back.png';\nimport Crossword, { ThemeProvider } from './crossword_src/index';\nimport data from './crossword_data';\nimport { Link } from \"react-router-dom\";\n\n\nfunction Puzzle(props) {\n  const {id} = props.match.params\n\n  return (\n    <div className=\"App-left\">\n      <Link to={`/`} className=\"App-link\"><img src={logo} width=\"10\" height=\"15\"/></Link><h2>{'Puzzle ' + id + ': ' + data[id]['puzzleName']}</h2>\n      <div>\n        <ThemeProvider\n          theme={{\n              // columnBreakpoint: '9999px',\n              gridBackground: '#282c34',\n              // cellBackground: '#ffe',\n              // cellBorder: '#fca',\n              textColor: '#222D43',\n              // numberColor: '#9f9',\n              focusBackground: '#FAD988',\n              highlightBackground: '#FFEAB5',\n          }}\n          >\n            <Crossword data={data[id]['data']} puzzleName={data[id]['puzzleName']} />\n          </ThemeProvider>\n        </div>\n    </div>\n  );\n}\n\nexport default Puzzle;\n","import { Route, Switch } from 'react-router-dom';\nimport Landing from './Landing';\nimport Puzzle from './Puzzle';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Landing} />\n      <Route path=\"/puzzle/:id\" component={Puzzle} />\n    </Switch>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\nimport Analytics from 'react-router-ga';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Analytics id=\"UA-206870903-1\">\n        <App />\n      </Analytics>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}